<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DownAPK - iOS 26</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --glass: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.15);
            --ios-blue: #007AFF;
            --ios-text: #ffffff;
            --radius-pill: 30px;
            --radius-card: 22px;
        }

        /* LIQUID BACKGROUND */
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif; 
            margin: 0; 
            background: #000; 
            color: var(--ios-text); 
            padding-bottom: 100px; 
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        /* Animierte Liquid Blobs */
        .liquid-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            background: radial-gradient(circle at 10% 10%, #1a1a2e 0%, #000 50%);
        }
        .blob {
            position: absolute;
            width: 400px; height: 400px;
            background: linear-gradient(135deg, #3f2b96 0%, #007AFF 100%);
            filter: blur(80px);
            border-radius: 50%;
            opacity: 0.3;
            animation: move 20s infinite alternate;
        }
        @keyframes move {
            from { transform: translate(0, 0); }
            to { transform: translate(100px, 200px); }
        }

        /* HEADER */
        header { 
            padding: 50px 20px 10px; 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
        }
        .logo { font-size: 34px; font-weight: 800; letter-spacing: -1px; }
        .user-avatar { 
            width: 35px; height: 35px; 
            background: var(--glass); 
            border-radius: 50%; 
            display: flex; align-items: center; justify-content: center;
            border: 1px solid var(--glass-border);
        }

        /* SEARCH OVERLAY (WIE VORHER) */
        .search-bar-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(20px);
            z-index: 2000;
            display: none;
            padding-top: 60px;
        }
        .search-header {
            position: absolute; top: 0; width: 100%;
            padding: 15px 20px; display: flex; align-items: center; gap: 15px;
        }
        .search-input-box {
            flex: 1; background: var(--glass); border-radius: 12px;
            padding: 10px; display: flex; align-items: center;
            border: 1px solid var(--glass-border);
        }
        .search-input-box input {
            background: transparent; border: none; color: #fff; width: 100%; outline: none; font-size: 17px; margin-left: 10px;
        }

        /* FEATURED (MARVEL SNAP STYLE) */
        .featured-container { padding: 0 20px; }
        .featured-card {
            display: block;
            width: 100%;
            height: 450px;
            border-radius: var(--radius-card);
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--glass-border);
            text-decoration: none;
        }
        .featured-content {
            position: absolute; bottom: 0; width: 100%;
            padding: 30px 20px;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            text-align: center;
        }
        .featured-title { font-size: 28px; font-weight: 800; margin-bottom: 5px; color: #fff; }
        .play-btn {
            background: #fff; color: #000; border-radius: 30px;
            padding: 10px 40px; font-weight: 700; border: none; font-size: 16px; margin-top: 15px;
        }

        /* HORIZONTAL LIST */
        .section-title { padding: 25px 20px 15px; font-size: 22px; font-weight: 700; }
        .scroll-row { display: flex; overflow-x: auto; padding: 0 20px 20px; gap: 15px; scrollbar-width: none; }
        .scroll-row::-webkit-scrollbar { display: none; }

        .app-card {
            width: 100px; min-width: 100px; text-decoration: none;
        }
        .app-card img { 
            width: 100px; height: 100px; border-radius: 22px; 
            background: var(--glass); border: 1px solid var(--glass-border);
        }
        .app-card span { display: block; font-size: 13px; margin-top: 8px; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: #fff; }

        /* LIST VIEW (DOWNAPK STYLE) */
        .list-container { padding: 0 20px; }
        .list-item {
            display: flex; align-items: center; 
            background: var(--glass); 
            backdrop-filter: blur(15px);
            padding: 15px; border-radius: 20px;
            margin-bottom: 12px;
            border: 1px solid var(--glass-border);
            text-decoration: none;
            color: #fff;
        }
        .list-icon { width: 55px; height: 55px; border-radius: 12px; margin-right: 15px; }
        .list-info { flex: 1; }
        .list-name { font-weight: 600; font-size: 16px; }
        .list-meta { font-size: 12px; color: #aaa; margin-top: 2px; }
        
        .laden-btn {
            background: rgba(255,255,255,0.15);
            color: var(--ios-blue);
            padding: 6px 18px; border-radius: 20px;
            font-weight: 700; font-size: 13px;
        }

        /* NAVIGATION (FLOATING PILL) */
        .nav-pill {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 40px;
            padding: 10px 30px;
            display: flex; gap: 50px;
            z-index: 3000;
        }
        .nav-link { color: #888; text-decoration: none; display: flex; flex-direction: column; align-items: center; font-size: 10px; gap: 4px; }
        .nav-link.active { color: #fff; }
        .nav-link i { font-size: 20px; }

        .hidden { display: none; }
    </style>
</head>
<body>

<div class="liquid-bg"><div class="blob"></div></div>

<div class="search-bar-overlay" id="searchOverlay">
    <div class="search-header">
        <div class="search-input-box">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="DownAPK durchsuchen">
        </div>
        <span onclick="toggleSearch(false)" style="color: var(--ios-blue)">Fertig</span>
    </div>
    <div id="searchResults" class="list-container" style="margin-top: 20px;"></div>
</div>

<header>
    <div class="logo">DownAPK</div>
    <div class="user-avatar"><i class="fas fa-user"></i></div>
</header>

<div id="mainContent">
    <div class="featured-container" id="featuredSection"></div>

    <div class="section-title">Zuletzt gespielt</div>
    <div class="scroll-row" id="recentApps"></div>

    <div class="section-title">Angesagte Apps</div>
    <div class="list-container" id="appsList"></div>
    
    <div style="text-align: center; padding: 20px;">
        <button onclick="loadMore()" style="background:none; border:none; color:var(--ios-blue); font-size:16px; font-weight:600;">Mehr anzeigen</button>
    </div>
</div>

<nav class="nav-pill">
    <a href="#" class="nav-link active" onclick="toggleSearch(false)">
        <i class="fas fa-home"></i>
        <span>Home</span>
    </a>
    <a href="#" class="nav-link" onclick="toggleSearch(true)">
        <i class="fas fa-search"></i>
        <span>Suche</span>
    </a>
</nav>

<script>
    let allApps = [];
    let displayedCount = 6;

    const dummyApps = [
        { id: '1', name: 'Marvel Snap', author: 'Nuverse', version: '24.0', icon: 'https://via.placeholder.com/150/800080/fff?text=Snap', banner: 'https://via.placeholder.com/600/400/222?text=Masters+of+the+Arcane' },
        { id: '2', name: 'ir_blaster', author: 'nslabs', version: '1.0.4', icon: 'https://via.placeholder.com/150/333/fff?text=IR' },
        { id: '3', name: 'WhatsApp', author: 'Meta', version: '2.24', icon: 'https://via.placeholder.com/150/25D366/fff?text=WA' },
        { id: '4', name: 'Spotify', author: 'Spotify AB', version: '8.9', icon: 'https://via.placeholder.com/150/1DB954/fff?text=SP' },
        { id: '5', name: 'Minecraft', author: 'Mojang', version: '1.21', icon: 'https://via.placeholder.com/150/4CAF50/fff?text=MC' },
        { id: '6', name: 'Instagram', author: 'Meta', version: '320.1', icon: 'https://via.placeholder.com/150/E1306C/fff?text=IG' }
    ];

    function toggleSearch(show) {
        document.getElementById('searchOverlay').style.display = show ? 'block' : 'none';
        if(show) document.getElementById('searchInput').focus();
    }

    // TEMPLATES MIT <a> LINKS (WIE VORHER)
    function renderAppCard(app) {
        return `
            <a href="app.html?id=${app.id}" class="app-card">
                <img src="${app.icon}">
                <span>${app.name}</span>
            </a>
        `;
    }

    function renderListItem(app) {
        return `
            <a href="app.html?id=${app.id}" class="list-item">
                <img src="${app.icon}" class="list-icon">
                <div class="list-info">
                    <div class="list-name">${app.name}</div>
                    <div class="list-meta">${app.author} • v${app.version}</div>
                </div>
                <div class="laden-btn">LADEN</div>
            </a>
        `;
    }

    function init() {
        allApps = dummyApps;
        // Featured
        const feat = allApps[0];
        document.getElementById('featuredSection').innerHTML = `
            <a href="app.html?id=${feat.id}" class="featured-card" style="background-image: url('${feat.banner}')">
                <div class="featured-content">
                    <div class="featured-title">Masters of the Arcane</div>
                    <div style="color:#aaa; font-size:14px;">Tritt Marvels mächtigsten Zauberern bei!</div>
                    <button class="play-btn">Play</button>
                </div>
            </a>
        `;

        // Horizontal
        const recent = document.getElementById('recentApps');
        allApps.forEach(app => recent.innerHTML += renderAppCard(app));

        // Liste
        updateList();
    }

    function updateList() {
        const list = document.getElementById('appsList');
        list.innerHTML = "";
        allApps.slice(0, displayedCount).forEach(app => list.innerHTML += renderListItem(app));
    }

    function loadMore() {
        displayedCount += 4;
        updateList();
    }

    // Suche
    document.getElementById('searchInput').addEventListener('input', (e) => {
        const query = e.target.value.toLowerCase();
        const results = allApps.filter(a => a.name.toLowerCase().includes(query));
        const resDiv = document.getElementById('searchResults');
        resDiv.innerHTML = "";
        results.forEach(app => resDiv.innerHTML += renderListItem(app));
    });

    init();
</script>

</body>
</html>
